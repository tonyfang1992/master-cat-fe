{"version":3,"sources":["webpack:///./src/apis/category.js","webpack:///./src/views/Category.vue?212c","webpack:///src/views/Category.vue","webpack:///./src/views/Category.vue?26e4","webpack:///./src/views/Category.vue","webpack:///./src/views/Category.vue?e7b3"],"names":["category","get","id","apiHelper","subcategory","ThisWeekActivity","NewActivity","Feed","FeedAge","FeedFunction","Can","CanType","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","color","size","_v","_s","name","description","CategoryTopProducts","CategoryNewProducts","TopProducts","NewProducts","staticRenderFns","components","Menu","TopSales","DotLoader","data","isLoading","created","fetchCategory","beforeRouteUpdate","next","methods","component"],"mappings":"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","file":"js/chunk-76693314.460d51ba.js","sourcesContent":["import { apiHelper } from \"./../utils/helpers\";\r\n\r\nexport default {\r\n  category: {\r\n    get(id) {\r\n      return apiHelper.get(`/category/${id}`);\r\n    },\r\n  },\r\n  subcategory: {\r\n    get(id) {\r\n      return apiHelper.get(`/subcategory/${id}`);\r\n    },\r\n  },\r\n  ThisWeekActivity: {\r\n    get(id) {\r\n      return apiHelper.get(`/thisweekactivity/${id}`);\r\n    },\r\n  },\r\n  NewActivity: {\r\n    get(id) {\r\n      return apiHelper.get(`/newactivity/${id}`);\r\n    },\r\n  },\r\n  Feed: {\r\n    get(id) {\r\n      return apiHelper.get(`/feed/${id}`);\r\n    },\r\n  },\r\n  FeedAge: {\r\n    get(id) {\r\n      return apiHelper.get(`/feedage/${id}`);\r\n    },\r\n  },\r\n  FeedFunction: {\r\n    get(id) {\r\n      return apiHelper.get(`/feedfunction/${id}`);\r\n    },\r\n  },\r\n  Can: {\r\n    get(id) {\r\n      return apiHelper.get(`/can/${id}`);\r\n    },\r\n  },\r\n  CanType: {\r\n    get(id) {\r\n      return apiHelper.get(`/cantype/${id}`);\r\n    },\r\n  },\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inner row\"},[_c('div',{staticClass:\"col-1 mt-5\"}),_c('div',{staticClass:\"Menu col-3 mt-5\"},[_c('Menu')],1),(_vm.isLoading)?_c('div',{staticClass:\"col-7 forComputer\"},[_c('dot-loader',{attrs:{\"color\":_vm.color,\"size\":_vm.size}})],1):_c('div',{staticClass:\"forComputer container col-7 mt-5\"},[_c('div',{staticClass:\"col-12\"},[_c('router-link',{staticClass:\"mr-5\",attrs:{\"to\":\"/cats\"}},[_c('span',[_vm._v(\"首頁\")])]),_c('span',[_vm._v(\"/\")]),_c('span',[_vm._v(_vm._s(_vm.category.name))])],1),_c('div',{staticClass:\"col-12 mt-3 mb-5\"},[_c('span',[_vm._v(_vm._s(_vm.category.description))])]),_c('TopSales',{attrs:{\"TopProducts\":_vm.CategoryTopProducts,\"NewProducts\":_vm.CategoryNewProducts}}),_c('TopSales',{attrs:{\"TopProducts\":_vm.TopProducts,\"NewProducts\":_vm.NewProducts}})],1),(_vm.isLoading)?_c('div',{staticClass:\"col-12 forMobile\"},[_c('dot-loader',{attrs:{\"color\":_vm.color,\"size\":_vm.size}})],1):_c('div',{staticClass:\"forMobile container col-12 mt-5\"},[_c('div',{staticClass:\"col-12\"},[_c('router-link',{staticClass:\"mr-5\",attrs:{\"to\":\"/cats\"}},[_c('span',[_vm._v(\"首頁\")])]),_c('span',[_vm._v(\"/\")]),_c('span',[_vm._v(_vm._s(_vm.category.name))])],1),_c('div',{staticClass:\"col-12 mt-3 mb-5\"},[_c('span',[_vm._v(_vm._s(_vm.category.description))])]),_c('TopSales',{attrs:{\"TopProducts\":_vm.CategoryTopProducts,\"NewProducts\":_vm.CategoryNewProducts}}),_c('TopSales',{attrs:{\"TopProducts\":_vm.TopProducts,\"NewProducts\":_vm.NewProducts}})],1),_c('div',{staticClass:\"col-1 mt-5\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"inner row\">\r\n    <div class=\"col-1 mt-5\"></div>\r\n    <div class=\"Menu col-3 mt-5\">\r\n      <Menu />\r\n    </div>\r\n    <div v-if=\"isLoading\" class=\"col-7 forComputer\">\r\n      <dot-loader :color=\"color\" :size=\"size\"></dot-loader>\r\n    </div>\r\n    <div v-else class=\"forComputer container col-7 mt-5\">\r\n      <div class=\"col-12\">\r\n        <router-link to=\"/cats\" class=\"mr-5\">\r\n          <span>首頁</span>\r\n        </router-link>\r\n        <span>/</span>\r\n        <span>{{ category.name }}</span>\r\n      </div>\r\n      <div class=\"col-12 mt-3 mb-5\">\r\n        <span>{{ category.description }}</span>\r\n      </div>\r\n      <TopSales :TopProducts=\"CategoryTopProducts\" :NewProducts=\"CategoryNewProducts\" />\r\n      <TopSales :TopProducts=\"TopProducts\" :NewProducts=\"NewProducts\" />\r\n    </div>\r\n    <div v-if=\"isLoading\" class=\"col-12 forMobile\">\r\n      <dot-loader :color=\"color\" :size=\"size\"></dot-loader>\r\n    </div>\r\n    <div v-else class=\"forMobile container col-12 mt-5\">\r\n      <div class=\"col-12\">\r\n        <router-link to=\"/cats\" class=\"mr-5\">\r\n          <span>首頁</span>\r\n        </router-link>\r\n        <span>/</span>\r\n        <span>{{ category.name }}</span>\r\n      </div>\r\n      <div class=\"col-12 mt-3 mb-5\">\r\n        <span>{{ category.description }}</span>\r\n      </div>\r\n      <TopSales :TopProducts=\"CategoryTopProducts\" :NewProducts=\"CategoryNewProducts\" />\r\n      <TopSales :TopProducts=\"TopProducts\" :NewProducts=\"NewProducts\" />\r\n    </div>\r\n    <div class=\"col-1 mt-5\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Menu from \"../components/Menu\";\r\nimport TopSales from \"../components/TopSales\";\r\nimport categoryAPI from \"../apis/category\";\r\nimport { Toast } from \"../utils/helpers\";\r\nimport DotLoader from \"vue-spinner/src/DotLoader\";\r\nexport default {\r\n  components: {\r\n    Menu,\r\n    TopSales,\r\n    DotLoader\r\n  },\r\n  data() {\r\n    return {\r\n      TopProducts: [],\r\n      NewProducts: [],\r\n      CategoryTopProducts: [],\r\n      CategoryNewProducts: [],\r\n      category: {},\r\n      isLoading: true,\r\n      color: \"#F5B7B1\",\r\n      size: \"200px\"\r\n    };\r\n  },\r\n\r\n  created() {\r\n    const { id } = this.$route.params;\r\n    this.fetchCategory(id);\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    // 路由改變時重新抓取資料\r\n    const { id } = to.params;\r\n    this.fetchCategory(id);\r\n    next();\r\n  },\r\n  methods: {\r\n    async fetchCategory(id) {\r\n      try {\r\n        const { data, statusText } = await categoryAPI.category.get(id);\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.TopProducts = data.TopProducts;\r\n        this.NewProducts = data.NewProducts;\r\n        this.CategoryTopProducts = data.CategoryTopProducts;\r\n        this.CategoryNewProducts = data.CategoryNewProducts;\r\n        this.category = data.category;\r\n        this.isLoading = false;\r\n      } catch {\r\n        this.isLoading = false;\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得該分類商品，請稍後再試\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.forMobile {\r\n  display: none;\r\n}\r\n@media screen and (max-width: 768px) {\r\n  .Menu {\r\n    display: none;\r\n  }\r\n  .forComputer {\r\n    display: none;\r\n  }\r\n  .forMobile {\r\n    display: contents;\r\n  }\r\n  .col-2 {\r\n    display: none;\r\n  }\r\n  .col-1 {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Category.vue?vue&type=template&id=6f08cda8&scoped=true&\"\nimport script from \"./Category.vue?vue&type=script&lang=js&\"\nexport * from \"./Category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Category.vue?vue&type=style&index=0&id=6f08cda8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f08cda8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&id=6f08cda8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&id=6f08cda8&scoped=true&lang=css&\""],"sourceRoot":""}