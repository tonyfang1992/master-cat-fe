(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-302fbf7e"],{8862:function(e,t,s){"use strict";var r=s("b953"),a=s.n(r);a.a},b953:function(e,t,s){},c66d:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"inner row"},[s("div",{staticClass:"col-1 mt-5"}),s("div",{staticClass:"Menu col-3 mt-5"},[s("Menu")],1),s("div",{staticClass:"forComputer container col-7 row mt-5"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"col-12 row mx-0",staticStyle:{"background-color":"pink",height:"250px"}},[e.isAddress?s("div",{staticClass:"col-12"},[s("div",[e._v(" 姓名 : "+e._s(e.user.name)+" "),s("b-form-input",{model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),s("div",[e._v(" 電話 : "+e._s(e.user.phone)+" "),s("b-form-input",{model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),s("div",[e._v(" 地址 :"+e._s(e.user.address)+" "),s("b-form-input",{model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),s("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.putUser()}}},[e._v("送出修改")])]):s("div",{staticClass:"col-12 row"},[s("div",{staticClass:"col-6 row align-items-center"},[s("h3",[e._v("hi, "+e._s(e.user.name))]),s("h3",[e._v(e._s(e.user.rank))])]),s("div",{staticClass:"col-6 row align-items-center"},[s("h3",[e._v("$ "+e._s(e.user.spendMoney))]),s("h3",[e._v("累積消費")])])])]),s("div",{staticClass:"col-12"},[s("b-list-group",[s("button",{staticClass:"btn btn-link",on:{click:function(t){return e.showInfo()}}},[s("b-list-group-item",[e._v("會員狀態")])],1),s("button",{staticClass:"btn btn-link",on:{click:function(t){return e.goOrder(e.currentUser.id)}}},[s("b-list-group-item",[e._v("查詢訂單")])],1),s("button",{staticClass:"btn btn-link",on:{click:function(t){return e.showAddress()}}},[s("b-list-group-item",[e._v("常用地址")])],1),s("button",{staticClass:"btn btn-link",on:{click:function(t){return e.logOut()}}},[s("b-list-group-item",[e._v("登出")])],1)])],1)]),0!==e.user.Cats.length?s("div",{staticClass:"col-6"},[s("div",{staticClass:"col-12 row align-items-center border border-dark"},[s("div",{staticClass:"col-6 my-3"},[s("h3",[e._v(e._s(e.user.Cats[0].name))]),s("h3",[e._v("年齡 : "+e._s(e.user.Cats[0].age))]),s("h3",[e._v("性別 : "+e._s(e.user.Cats[0].gender))]),s("h3",[e._v("體重 : "+e._s(e.user.Cats[0].weight)+"kg")])]),e._m(0)]),s("div",{staticClass:"col-12"},[s("div",[e._v(" 性別 : "),s("b-form-radio-group",{attrs:{options:e.gender,name:"radio-inline"},model:{value:e.selected1,callback:function(t){e.selected1=t},expression:"selected1"}})],1),s("div",[e._v(" 年齡 : "),s("b-form-select",{attrs:{options:e.age},model:{value:e.selected2,callback:function(t){e.selected2=t},expression:"selected2"}})],1),s("div",[e._v(" 體重 : "),s("b-form-select",{attrs:{options:e.weight},model:{value:e.selected3,callback:function(t){e.selected3=t},expression:"selected3"}})],1)]),s("div",{staticClass:"mt-5 text-center"},[s("button",{on:{click:function(t){return e.putCat()}}},[e._v("修改")])])]):e._e(),0==e.user.Cats.length?s("div",{staticClass:"col-6"},[s("div",{staticClass:"col-12 row align-items-center border border-dark"},[s("div",{staticClass:"col-6 my-3"},[s("b-form-input",{attrs:{placeholder:"喵大名字"},model:{value:e.catName,callback:function(t){e.catName=t},expression:"catName"}})],1),e._m(1)]),s("div",{staticClass:"col-12"},[s("div",[e._v(" 性別 : "),s("b-form-radio-group",{attrs:{options:e.gender,name:"radio-inline"},model:{value:e.selected1,callback:function(t){e.selected1=t},expression:"selected1"}})],1),s("div",[e._v(" 年齡 : "),s("b-form-select",{attrs:{options:e.age},model:{value:e.selected2,callback:function(t){e.selected2=t},expression:"selected2"}})],1),s("div",[e._v(" 體重 : "),s("b-form-select",{attrs:{options:e.weight},model:{value:e.selected3,callback:function(t){e.selected3=t},expression:"selected3"}})],1)]),s("div",{staticClass:"mt-5 text-center"},[s("button",{staticClass:"mr-3",on:{click:function(t){return e.postCat()}}},[e._v("登錄")])])]):e._e()]),s("div",{staticClass:"forMobile container col-12 mt-5 column"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"col-12 row mx-0",staticStyle:{"background-color":"pink",height:"250px"}},[e.isAddress?s("div",{staticClass:"col-12"},[s("div",[e._v(" 姓名 : "+e._s(e.user.name)+" "),s("b-form-input",{model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),s("div",[e._v(" 電話 : "+e._s(e.user.phone)+" "),s("b-form-input",{model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),s("div",[e._v(" 地址 :"+e._s(e.user.address)+" "),s("b-form-input",{model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),s("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.putUser()}}},[e._v("送出修改")])]):s("div",{staticClass:"col-12 row"},[s("div",{staticClass:"col-6 row align-items-center"},[s("h3",[e._v("hi, "+e._s(e.user.name))]),s("h3",[e._v(e._s(e.user.rank))])]),s("div",{staticClass:"col-6 row align-items-center"},[s("h3",[e._v("$ "+e._s(e.user.spendMoney))]),s("h3",[e._v("累積消費")])])])]),s("div",{staticClass:"col-12"},[s("b-list-group",[s("button",{staticClass:"btn btn-link",on:{click:function(t){return e.showInfo()}}},[s("b-list-group-item",[e._v("會員狀態")])],1),s("button",{staticClass:"btn btn-link",on:{click:function(t){return e.goOrder(e.currentUser.id)}}},[s("b-list-group-item",[e._v("查詢訂單")])],1),s("button",{staticClass:"btn btn-link",on:{click:function(t){return e.showAddress()}}},[s("b-list-group-item",[e._v("常用地址")])],1),s("button",{staticClass:"btn btn-link",on:{click:function(t){return e.logOut()}}},[s("b-list-group-item",[e._v("登出")])],1)])],1)]),0!==e.user.Cats.length?s("div",{staticClass:"col-12"},[s("div",{staticClass:"col-12 row align-items-center border border-dark"},[s("div",{staticClass:"col-6 my-3"},[s("h3",[e._v(e._s(e.user.Cats[0].name))]),s("h3",[e._v("年齡 : "+e._s(e.user.Cats[0].age))]),s("h3",[e._v("性別 : "+e._s(e.user.Cats[0].gender))]),s("h3",[e._v("體重 : "+e._s(e.user.Cats[0].weight))])]),e._m(2)]),s("div",{staticClass:"col-12"},[s("div",[e._v(" 性別 : "),s("b-form-radio-group",{attrs:{options:e.gender,name:"radio-inline"},model:{value:e.selected1,callback:function(t){e.selected1=t},expression:"selected1"}})],1),s("div",[e._v(" 年齡 : "),s("b-form-select",{attrs:{options:e.age},model:{value:e.selected2,callback:function(t){e.selected2=t},expression:"selected2"}})],1),s("div",[e._v(" 體重 : "),s("b-form-select",{attrs:{options:e.weight},model:{value:e.selected3,callback:function(t){e.selected3=t},expression:"selected3"}})],1)]),s("div",{staticClass:"mt-5 text-center"},[s("button",{on:{click:function(t){return e.putCat()}}},[e._v("修改")])])]):e._e(),0==e.user.Cats.length?s("div",{staticClass:"col-12"},[s("div",{staticClass:"col-12 row align-items-center border border-dark"},[s("div",{staticClass:"col-6 my-3"},[s("b-form-input",{attrs:{placeholder:"喵大名字"},model:{value:e.catName,callback:function(t){e.catName=t},expression:"catName"}})],1),e._m(3)]),s("div",{staticClass:"col-12"},[s("div",[e._v(" 性別 : "),s("b-form-radio-group",{attrs:{options:e.gender,name:"radio-inline"},model:{value:e.selected1,callback:function(t){e.selected1=t},expression:"selected1"}})],1),s("div",[e._v(" 年齡 : "),s("b-form-select",{attrs:{options:e.age},model:{value:e.selected2,callback:function(t){e.selected2=t},expression:"selected2"}})],1),s("div",[e._v(" 體重 : "),s("b-form-select",{attrs:{options:e.weight},model:{value:e.selected3,callback:function(t){e.selected3=t},expression:"selected3"}})],1)]),s("div",{staticClass:"mt-5 text-center"},[s("button",{staticClass:"mr-3",on:{click:function(t){return e.postCat()}}},[e._v("登錄")])])]):e._e()]),s("div",{staticClass:"col-1 mt-5"})])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-6 my-3"},[s("img",{attrs:{src:"https://via.placeholder.com/150"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-6 my-3"},[s("img",{attrs:{src:"https://via.placeholder.com/150"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-6 my-3"},[s("img",{attrs:{src:"https://via.placeholder.com/150"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-6 my-3"},[s("img",{attrs:{src:"https://via.placeholder.com/150"}})])}],n=(s("b0c0"),s("96cf"),s("1da1")),c=s("5530"),i=s("fb62"),l=s("1602"),o=s("45c2"),u=s("cc17"),d=s("2fa3"),v=s("2f62"),m={components:{Menu:i["a"]},data:function(){return{user:[],userName:"",address:"",phone:"",catName:"",selected1:null,gender:[{text:"男",value:"男生"},{text:"女",value:"女生"}],selected2:null,age:[{value:1,text:"1歲"},{value:2,text:"2歲"},{value:3,text:"3歲"},{value:4,text:"4歲"},{value:5,text:"5歲"},{value:6,text:"6歲"},{value:7,text:"7歲"},{value:8,text:"8歲"},{value:9,text:"9歲"},{value:10,text:"10歲"},{value:11,text:"11歲"},{value:12,text:"12歲"},{value:13,text:"13歲"},{value:14,text:"14歲"},{value:15,text:"15歲"},{value:16,text:"16歲"},{value:17,text:"17歲"},{value:18,text:"18歲"},{value:19,text:"19歲"},{value:20,text:"20歲"}],selected3:null,weight:[{value:1,text:"1kg"},{value:2,text:"2kg"},{value:3,text:"3kg"},{value:4,text:"4kg"},{value:5,text:"5kg"},{value:6,text:"6kg"},{value:7,text:"7kg"},{value:8,text:"8kg"},{value:9,text:"9kg"},{value:10,text:"10kg"},{value:11,text:"11kg"},{value:12,text:"12kg"},{value:13,text:"13kg"},{value:14,text:"14kg"},{value:15,text:"15kg"},{value:16,text:"16kg"},{value:17,text:"17kg"},{value:18,text:"18kg"},{value:19,text:"19kg"},{value:20,text:"20kg"}],isAddress:!1}},created:function(){var e=this.$route.params.id;this.fetchProfile(e)},beforeRouteUpdate:function(e,t,s){var r=e.params.id;this.fetchProfile(r),s()},computed:Object(c["a"])({},Object(v["b"])(["currentUser","isAuthenticated"])),methods:{fetchProfile:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r,a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,l["a"].get(e);case 3:if(r=s.sent,a=r.data,n=r.statusText,"OK"===n){s.next=8;break}throw new Error(n);case 8:t.user=a.user,s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),d["a"].fire({icon:"error",title:"無法取得會員資料，請稍後再試"});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))()},postCat:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.catName&&e.selected1&&e.selected2&&e.selected3){t.next=4;break}return d["a"].fire({icon:"error",title:"請填入貓咪所有的資料唷!"}),t.abrupt("return");case 4:return t.next=6,o["a"].postCat({name:e.catName,gender:e.selected1,age:e.selected2,weight:e.selected3,UserId:e.user.id});case 6:if(s=t.sent,r=s.data,a=s.statusText,"OK"===a&&"success"===r.status){t.next=11;break}throw new Error(a);case 11:d["a"].fire({icon:"success",title:"成功登錄您的愛貓"}),e.$router.push("/cats"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),d["a"].fire({icon:"error",title:"無法取得會員資料，請稍後再試"});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},putCat:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.selected1&&e.selected2&&e.selected3){t.next=4;break}return d["a"].fire({icon:"error",title:"請填入貓咪所有的資料唷!"}),t.abrupt("return");case 4:return t.next=6,o["a"].putCat({name:e.user.Cats[0].name,gender:e.selected1,age:e.selected2,weight:e.selected3,UserId:e.user.id,CatId:e.user.Cats[0].id});case 6:if(s=t.sent,r=s.data,a=s.statusText,"OK"===a&&"success"===r.status){t.next=11;break}throw new Error(a);case 11:d["a"].fire({icon:"success",title:"成功修改愛貓資訊"}),e.$router.push("/cats"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),d["a"].fire({icon:"error",title:"無法取得會員資料，請稍後再試"});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},showInfo:function(){this.isAddress=!1},showAddress:function(){this.isAddress=!0},putUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,s=0,s=parseInt(e.phone),0!=e.phone.length&&0!=e.userName.length&&0!=e.address.length){t.next=6;break}return d["a"].fire({icon:"error",title:"所有欄位都是必填!"}),t.abrupt("return");case 6:if(10===e.phone.length&&!isNaN(s)){t.next=9;break}return d["a"].fire({icon:"error",title:"電話欄只能輸入長度為10的數字!"}),t.abrupt("return");case 9:return t.next=11,l["a"].put({name:e.userName,phone:e.phone,address:e.address});case 11:if(r=t.sent,a=r.data,n=r.statusText,"OK"===n&&"success"===a.status){t.next=16;break}throw new Error(n);case 16:d["a"].fire({icon:"success",title:"".concat(a.message)}),e.$router.push("/cats"),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),d["a"].fire({icon:"error",title:"修改失敗，請稍後再試"});case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},logOut:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.commit("revokeAuthentication"),d["a"].fire({icon:"success",title:"成功登出!為了給您最佳的服務，建議登入會員唷。"}),e.$router.push("/cats");case 3:case"end":return t.stop()}}),t)})))()},goOrder:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u["a"].orders.getOrders(e);case 3:if(r=s.sent,a=r.statusText,"OK"===a){s.next=7;break}throw new Error(a);case 7:t.$router.push("/orders"),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),d["a"].fire({icon:"error",title:"目前無法查看訂單，請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()}}},p=m,b=(s("8862"),s("2877")),f=Object(b["a"])(p,r,a,!1,null,"de213830",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-302fbf7e.701abf57.js.map