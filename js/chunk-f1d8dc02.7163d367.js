(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f1d8dc02"],{"5f51":function(t,s,c){"use strict";var a=c("c25b"),o=c.n(a);o.a},c25b:function(t,s,c){},d2f1:function(t,s,c){"use strict";c.r(s);var a=function(){var t=this,s=t.$createElement,c=t._self._c||s;return c("div",{staticClass:"inner row"},[c("div",{staticClass:"col-1 mt-5"}),c("div",{staticClass:"Menu col-3 mt-5"},[c("Menu")],1),c("div",{staticClass:"forComputer container col-7 row mt-5"},[c("div",{staticClass:"col-6"},[c("img",{staticStyle:{width:"320px",height:"240px"},attrs:{src:t.product.image}})]),c("div",{staticClass:"col-6"},[c("div",{staticClass:"div"},[c("h2",[t._v(t._s(t.product.name))])]),c("div",{staticClass:"div mt-2"},[c("h6",[t._v(t._s(t.product.description))])]),c("div",{staticClass:"div mt-2"},[t._v("價格 : "+t._s(t.product.price)+" 元")]),c("div",{staticClass:"div mt-2"},[t._v("庫存 : "+t._s(t.product.amount)+" 件")]),c("div",{staticClass:"col-12 row mt-3"},[0!==t.product.amount?c("div",{staticClass:"input-group mb-3 col-6"},[t._v(" 數量 : "),c("button",{staticClass:"btn btn-link pr-0 pt-0 mt-0",attrs:{type:"button"},on:{click:t.MinusProduct}},[c("font-awesome-icon",{staticStyle:{color:"black"},attrs:{icon:["far","minus-square"],size:"2x"}})],1),t._v(" "+t._s(t.count)+" "),c("button",{staticClass:"btn btn-link pl-0 pt-0 mt-0",attrs:{type:"button"},on:{click:t.PlusProduct}},[c("font-awesome-icon",{staticStyle:{color:"black"},attrs:{icon:["far","plus-square"],size:"2x"}})],1)]):t._e(),0!==t.product.amount?c("div",{staticClass:"col-6"},[c("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(s){return t.postCart({product:t.product.name,productId:t.product.id})}}},[t._v("加入購物車")])]):c("div",{staticClass:"col-12"},[c("h1",{staticStyle:{color:"red"}},[t._v("慢了一步 完售!")])])])]),c("div",{staticClass:"col-12"},[c("b-nav",{attrs:{tabs:"",justified:""}},[c("b-nav-item",[t._v("描述")]),c("b-nav-item",[t._v("規格")]),c("b-nav-item",[t._v("說明")])],1),c("div",[t._v("---描述---")]),c("p",[t._v(t._s(t.product.detail))]),c("div",[t._v("---規格---")]),c("pre",[t._v(t._s(t.product.specification))]),c("div",[t._v("---說明---")]),c("pre",[t._v("本商品無法限制配送條件")])],1),c("TopSales",{attrs:{TopProducts:t.SubCategoryTopProducts,NewProducts:t.SubCategoryNewProducts}})],1),c("div",{staticClass:"forMobile container col-12 row mt-5"},[c("div",{staticClass:"col-6"},[c("img",{staticStyle:{width:"320px",height:"240px"},attrs:{src:t.product.image}})]),c("div",{staticClass:"col-6"},[c("div",{staticClass:"div"},[c("h2",[t._v(t._s(t.product.name))])]),c("div",{staticClass:"div mt-2"},[c("h6",[t._v(t._s(t.product.description))])]),c("div",{staticClass:"div mt-2"},[t._v("價格 : "+t._s(t.product.price)+" 元")]),c("div",{staticClass:"div mt-2"},[t._v("庫存 : "+t._s(t.product.amount)+" 件")]),c("div",{staticClass:"col-12 row mt-3"},[0!==t.product.amount?c("div",{staticClass:"input-group mb-3 col-6"},[t._v(" 數量 : "),c("button",{staticClass:"btn btn-link pr-0 pt-0 mt-0",attrs:{type:"button"},on:{click:t.MinusProduct}},[c("font-awesome-icon",{staticStyle:{color:"black"},attrs:{icon:["far","minus-square"],size:"2x"}})],1),t._v(" "+t._s(t.count)+" "),c("button",{staticClass:"btn btn-link pl-0 pt-0 mt-0",attrs:{type:"button"},on:{click:t.PlusProduct}},[c("font-awesome-icon",{staticStyle:{color:"black"},attrs:{icon:["far","plus-square"],size:"2x"}})],1)]):t._e(),0!==t.product.amount?c("div",{staticClass:"col-6"},[c("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(s){return t.postCart({product:t.product.name,productId:t.product.id})}}},[t._v("加入購物車")])]):c("div",{staticClass:"col-12"},[c("h1",{staticStyle:{color:"red"}},[t._v("慢了一步 完售!")])])])]),c("div",{staticClass:"col-12"},[c("b-nav",{attrs:{tabs:"",justified:""}},[c("b-nav-item",[t._v("描述")]),c("b-nav-item",[t._v("規格")]),c("b-nav-item",[t._v("說明")])],1),c("div",[t._v("---描述---")]),c("p",[t._v(t._s(t.product.detail))]),c("div",[t._v("---規格---")]),c("pre",[t._v(t._s(t.product.specification))]),c("div",[t._v("---說明---")]),c("pre",[t._v("本商品無法限制配送條件")])],1),c("TopSales",{attrs:{TopProducts:t.SubCategoryTopProducts,NewProducts:t.SubCategoryNewProducts}})],1),c("div",{staticClass:"col-1 mt-5"})])},o=[],r=(c("96cf"),c("1da1")),i=c("fb62"),e=c("4e77"),n=c("2c28"),u=c("cc17"),d=c("2fa3"),l=c("ec26"),p={components:{Menu:i["a"],TopSales:e["a"]},data:function(){return{product:[],count:1,SubCategoryTopProducts:[],SubCategoryNewProducts:[]}},created:function(){var t=this.$route.params.id;this.fetchProduct(t)},beforeRouteUpdate:function(t,s,c){var a=t.params.id;this.fetchProduct(a),c()},methods:{fetchProduct:function(t){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function c(){var a,o,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,n["a"].product.get(t);case 3:if(a=c.sent,o=a.data,r=a.statusText,"OK"===r){c.next=8;break}throw new Error(r);case 8:s.product=o.product[0],s.SubCategoryTopProducts=o.SubCategoryTopProducts,s.SubCategoryNewProducts=o.SubCategoryNewProducts,c.next=16;break;case 13:c.prev=13,c.t0=c["catch"](0),d["a"].fire({icon:"error",title:"無法取得該商品資訊，請稍後再試"});case 16:case"end":return c.stop()}}),c,null,[[0,13]])})))()},postCart:function(t){return Object(r["a"])(regeneratorRuntime.mark((function s(){var c,a,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,null==localStorage.getItem("cartId")&&localStorage.setItem("cartId",Object(l["a"])()),s.next=4,u["a"].carts.postCart({productId:t.productId,cartId:localStorage.getItem("cartId")});case 4:if(c=s.sent,a=c.data,o=c.statusText,"OK"===o&&"success"===a.status){s.next=9;break}throw new Error(o);case 9:d["a"].fire({icon:"success",title:"成功將商品 - ".concat(t.product," - 加入購物車")}),s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](0),d["a"].fire({icon:"error",title:"目前無法購買該商品，請重新整理"});case 15:case"end":return s.stop()}}),s,null,[[0,12]])})))()},MinusProduct:function(){this.count>1&&(this.count-=1)},PlusProduct:function(){this.count<this.product.amount?this.count<9&&(this.count+=1):d["a"].fire({icon:"warning",title:"庫存不夠啦! 只有這麼多了"})}}},v=p,b=(c("5f51"),c("2877")),m=Object(b["a"])(v,a,o,!1,null,"58199b88",null);s["default"]=m.exports}}]);
//# sourceMappingURL=chunk-f1d8dc02.7163d367.js.map