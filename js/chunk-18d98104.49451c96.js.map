{"version":3,"sources":["webpack:///./src/views/Order.vue?8882","webpack:///./src/views/Order.vue?cb82","webpack:///src/views/Order.vue","webpack:///./src/views/Order.vue?81a5","webpack:///./src/views/Order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","color","size","_v","_l","order","key","id","_s","product","name","specification","OrderItem","quantity","price","amount","currentUser","rank","_e","Math","floor","payment_status","params","on","$event","DeleteOrder","staticRenderFns","components","data","orders","isLoading","created","fetchOrders","computed","methods","component"],"mappings":"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","file":"js/chunk-18d98104.49451c96.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&id=7c980fd2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&id=7c980fd2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inner row\"},[_c('div',{staticClass:\"col-2 mt-5\"}),(_vm.isLoading)?_c('div',{staticClass:\"col-12 forComputer\"},[_c('dot-loader',{attrs:{\"color\":_vm.color,\"size\":_vm.size}})],1):_c('div',{staticClass:\"forComputer container col-8 mt-5 row\"},[_c('div',{staticClass:\"col-12\"},[_vm._v(\"確認訂單\")]),_vm._l((_vm.orders),function(order){return _c('div',{key:'A' + order.id,staticClass:\"col-12 row mt-3 border-bottom\"},[_c('div',{staticClass:\"col-12 word\"},[_c('h1',[_vm._v(\"訂單號 #\"+_vm._s(order.id))])]),_vm._l((order.items),function(product){return _c('div',{key:'B' + product.id,staticClass:\"col-8 row mt-1 word\"},[_c('div',{staticClass:\"col-5\"},[_c('h4',[_vm._v(_vm._s(product.name))]),_c('h5',[_vm._v(_vm._s(product.specification))])]),_c('div',{staticClass:\"col-4 word\"},[_c('div',[_vm._v(\"數量:\"+_vm._s(product.OrderItem.quantity))]),_c('div',[_vm._v(\"單價:\"+_vm._s(product.price))]),_c('div',[_vm._v(\"小計:\"+_vm._s(product.OrderItem.quantity * product.price))])])])}),_c('div',{staticClass:\"col-2 word\"},[(order.amount < 666)?_c('h6',[_vm._v(\"運費:80 (滿666免運)\")]):_c('h4',[_vm._v(\"運費 : 免運費!\")]),(_vm.currentUser.rank == '一般會員')?_c('div',[_c('h3',[_vm._v(\"總計 :\"+_vm._s(order.amount))])]):_vm._e(),(_vm.currentUser.rank == '黃金會員')?_c('div',[_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"黃金會員 :再享75折\")]),_c('h3',[_vm._v(\"總計 :\"+_vm._s(Math.floor(order.amount * 0.75)))])],1):_vm._e(),(_vm.currentUser.rank == '白銀會員')?_c('div',[_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"白銀會員 :再享85折\")]),_c('h3',[_vm._v(\"總計 :\"+_vm._s(Math.floor(order.amount * 0.85)))])],1):_vm._e()]),(order.payment_status == '完成付款')?_c('div',{staticClass:\"col-2\"},[_c('font-awesome-icon',{staticClass:\"pay\",attrs:{\"icon\":['far', 'check-circle'],\"size\":\"2x\"}}),_vm._v(\"已付款 \")],1):(order.payment_status == '取消訂單')?_c('div',{staticClass:\"col-2\"},[_vm._v(\" 已取消訂單，還是想買? \"),_c('router-link',{attrs:{\"to\":{ name: 'payment', params: { id: order.id } }}},[_c('button',{staticClass:\"btn btn-primary pl-0 pt-0 mt-0 mb-1\",attrs:{\"type\":\"button\"}},[_vm._v(\" 立即付款 \")])])],1):_c('div',{staticClass:\"col-2 column\"},[_c('div',[_c('router-link',{attrs:{\"to\":{ name: 'payment', params: { id: order.id } }}},[_c('button',{staticClass:\"btn btn-primary pl-0 pt-0 mt-0 mb-1\",attrs:{\"type\":\"button\"}},[_vm._v(\" 立即付款 \")])])],1),_c('div',{staticClass:\"mt-1\"},[_c('button',{staticClass:\"btn btn-danger pl-0 pt-0 mt-0\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.DeleteOrder(order.id)}}},[_vm._v(\" 取消訂單 \")])])])],2)})],2),(_vm.isLoading)?_c('div',{staticClass:\"col-12 forMobile\"},[_c('dot-loader',{attrs:{\"color\":_vm.color,\"size\":_vm.size}})],1):_c('div',{staticClass:\"forMobile container col-12 mt-5 row\"},[_c('div',{staticClass:\"col-12\"},[_vm._v(\"確認訂單\")]),_vm._l((_vm.orders),function(order){return _c('div',{key:'A' + order.id,staticClass:\"col-12 row mt-3 border-bottom\"},[_c('div',{staticClass:\"col-12 word\"},[_c('h1',[_vm._v(\"訂單號 #\"+_vm._s(order.id))])]),_c('div',{staticClass:\"col-6\"},_vm._l((order.items),function(product){return _c('div',{key:'B' + product.id,staticClass:\"col-12 row mt-1 word\"},[_c('div',{staticClass:\"col-8\"},[_c('h6',[_vm._v(_vm._s(product.name))]),_c('h6',[_vm._v(_vm._s(product.specification))])]),_c('div',{staticClass:\"col-4 word column\"},[_c('div',[_vm._v(\"數量:\"+_vm._s(product.OrderItem.quantity))]),_c('div',[_vm._v(\"單價:\"+_vm._s(product.price))]),_c('div',[_vm._v(\"小計:\"+_vm._s(product.OrderItem.quantity * product.price))])])])}),0),_c('div',{staticClass:\"col-3 word\"},[(order.amount < 666)?_c('h6',[_vm._v(\"運費:80 (滿666免運)\")]):_c('h4',[_vm._v(\"運費 : 免運費!\")]),(_vm.currentUser.rank == '一般會員')?_c('div',[_c('h5',[_vm._v(\"總計 :\"+_vm._s(order.amount))])]):_vm._e(),(_vm.currentUser.rank == '黃金會員')?_c('div',[_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"黃金會員 :再享75折\")]),_c('h5',[_vm._v(\"總計 :\"+_vm._s(Math.floor(order.amount * 0.75)))])],1):_vm._e(),(_vm.currentUser.rank == '白銀會員')?_c('div',[_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"白銀會員 :再享85折\")]),_c('h5',[_vm._v(\"總計 :\"+_vm._s(Math.floor(order.amount * 0.85)))])],1):_vm._e()]),(order.payment_status == '完成付款')?_c('div',{staticClass:\"col-3\"},[_c('font-awesome-icon',{staticClass:\"pay\",attrs:{\"icon\":['far', 'check-circle'],\"size\":\"2x\"}}),_vm._v(\"已付款 \")],1):(order.payment_status == '取消訂單')?_c('div',{staticClass:\"col-3\"},[_vm._v(\" 已取消訂單，還是想買? \"),_c('router-link',{attrs:{\"to\":{ name: 'payment', params: { id: order.id } }}},[_c('button',{staticClass:\"btn btn-primary pl-0 pt-0 mt-0 mb-1\",attrs:{\"type\":\"button\"}},[_vm._v(\" 立即付款 \")])])],1):_c('div',{staticClass:\"col-3 column\"},[_c('div',[_c('router-link',{attrs:{\"to\":{ name: 'payment', params: { id: order.id } }}},[_c('button',{staticClass:\"btn btn-primary pl-0 pt-0 mt-0 mb-1\",attrs:{\"type\":\"button\"}},[_vm._v(\" 立即付款 \")])])],1),_c('div',{staticClass:\"mt-1\"},[_c('button',{staticClass:\"btn btn-danger pl-0 pt-0 mt-0\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.DeleteOrder(order.id)}}},[_vm._v(\" 取消訂單 \")])])])])})],2),_c('div',{staticClass:\"col-2 mt-5\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"inner row\">\r\n    <div class=\"col-2 mt-5\"></div>\r\n    <div v-if=\"isLoading\" class=\"col-12 forComputer\">\r\n      <dot-loader :color=\"color\" :size=\"size\"></dot-loader>\r\n    </div>\r\n    <div v-else class=\"forComputer container col-8 mt-5 row\">\r\n      <div class=\"col-12\">確認訂單</div>\r\n      <div\r\n        class=\"col-12 row mt-3 border-bottom\"\r\n        v-for=\"order in orders\"\r\n        :key=\"'A' + order.id\"\r\n      >\r\n        <div class=\"col-12 word\">\r\n          <h1>訂單號 #{{ order.id }}</h1>\r\n        </div>\r\n        <div\r\n          class=\"col-8 row mt-1 word\"\r\n          v-for=\"product in order.items\"\r\n          :key=\"'B' + product.id\"\r\n        >\r\n          <div class=\"col-5\">\r\n            <h4>{{ product.name }}</h4>\r\n            <h5>{{ product.specification }}</h5>\r\n          </div>\r\n          <div class=\"col-4 word\">\r\n            <div>數量:{{ product.OrderItem.quantity }}</div>\r\n            <div>單價:{{ product.price }}</div>\r\n            <div>小計:{{ product.OrderItem.quantity * product.price }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-2 word\">\r\n          <h6 v-if=\"order.amount < 666\">運費:80 (滿666免運)</h6>\r\n          <h4 v-else>運費 : 免運費!</h4>\r\n          <div v-if=\"currentUser.rank == '一般會員'\">\r\n            <h3>總計 :{{ order.amount }}</h3>\r\n          </div>\r\n          <div v-if=\"currentUser.rank == '黃金會員'\">\r\n            <b-badge variant=\"warning\">黃金會員 :再享75折</b-badge>\r\n            <h3>總計 :{{ Math.floor(order.amount * 0.75) }}</h3>\r\n          </div>\r\n          <div v-if=\"currentUser.rank == '白銀會員'\">\r\n            <b-badge variant=\"warning\">白銀會員 :再享85折</b-badge>\r\n            <h3>總計 :{{ Math.floor(order.amount * 0.85) }}</h3>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"order.payment_status == '完成付款'\" class=\"col-2\">\r\n          <font-awesome-icon\r\n            :icon=\"['far', 'check-circle']\"\r\n            class=\"pay\"\r\n            size=\"2x\"\r\n          />已付款\r\n        </div>\r\n        <div v-else-if=\"order.payment_status == '取消訂單'\" class=\"col-2\">\r\n          已取消訂單，還是想買?\r\n          <router-link :to=\"{ name: 'payment', params: { id: order.id } }\">\r\n            <button type=\"button\" class=\"btn btn-primary pl-0 pt-0 mt-0 mb-1\">\r\n              立即付款\r\n            </button>\r\n          </router-link>\r\n        </div>\r\n        <div v-else class=\"col-2 column\">\r\n          <div>\r\n            <router-link :to=\"{ name: 'payment', params: { id: order.id } }\">\r\n              <button type=\"button\" class=\"btn btn-primary pl-0 pt-0 mt-0 mb-1\">\r\n                立即付款\r\n              </button>\r\n            </router-link>\r\n          </div>\r\n          <div class=\"mt-1\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-danger pl-0 pt-0 mt-0\"\r\n              @click=\"DeleteOrder(order.id)\"\r\n            >\r\n              取消訂單\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"isLoading\" class=\"col-12 forMobile\">\r\n      <dot-loader :color=\"color\" :size=\"size\"></dot-loader>\r\n    </div>\r\n    <div v-else class=\"forMobile container col-12 mt-5 row\">\r\n      <div class=\"col-12\">確認訂單</div>\r\n      <div\r\n        class=\"col-12 row mt-3 border-bottom\"\r\n        v-for=\"order in orders\"\r\n        :key=\"'A' + order.id\"\r\n      >\r\n        <div class=\"col-12 word\">\r\n          <h1>訂單號 #{{ order.id }}</h1>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <div\r\n            class=\"col-12 row mt-1 word\"\r\n            v-for=\"product in order.items\"\r\n            :key=\"'B' + product.id\"\r\n          >\r\n            <div class=\"col-8\">\r\n              <h6>{{ product.name }}</h6>\r\n              <h6>{{ product.specification }}</h6>\r\n            </div>\r\n            <div class=\"col-4 word column\">\r\n              <div>數量:{{ product.OrderItem.quantity }}</div>\r\n              <div>單價:{{ product.price }}</div>\r\n              <div>小計:{{ product.OrderItem.quantity * product.price }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-3 word\">\r\n          <h6 v-if=\"order.amount < 666\">運費:80 (滿666免運)</h6>\r\n          <h4 v-else>運費 : 免運費!</h4>\r\n          <div v-if=\"currentUser.rank == '一般會員'\">\r\n            <h5>總計 :{{ order.amount }}</h5>\r\n          </div>\r\n          <div v-if=\"currentUser.rank == '黃金會員'\">\r\n            <b-badge variant=\"warning\">黃金會員 :再享75折</b-badge>\r\n            <h5>總計 :{{ Math.floor(order.amount * 0.75) }}</h5>\r\n          </div>\r\n          <div v-if=\"currentUser.rank == '白銀會員'\">\r\n            <b-badge variant=\"warning\">白銀會員 :再享85折</b-badge>\r\n            <h5>總計 :{{ Math.floor(order.amount * 0.85) }}</h5>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"order.payment_status == '完成付款'\" class=\"col-3\">\r\n          <font-awesome-icon\r\n            :icon=\"['far', 'check-circle']\"\r\n            class=\"pay\"\r\n            size=\"2x\"\r\n          />已付款\r\n        </div>\r\n        <div v-else-if=\"order.payment_status == '取消訂單'\" class=\"col-3\">\r\n          已取消訂單，還是想買?\r\n          <router-link :to=\"{ name: 'payment', params: { id: order.id } }\">\r\n            <button type=\"button\" class=\"btn btn-primary pl-0 pt-0 mt-0 mb-1\">\r\n              立即付款\r\n            </button>\r\n          </router-link>\r\n        </div>\r\n        <div v-else class=\"col-3 column\">\r\n          <div>\r\n            <router-link :to=\"{ name: 'payment', params: { id: order.id } }\">\r\n              <button type=\"button\" class=\"btn btn-primary pl-0 pt-0 mt-0 mb-1\">\r\n                立即付款\r\n              </button>\r\n            </router-link>\r\n          </div>\r\n          <div class=\"mt-1\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-danger pl-0 pt-0 mt-0\"\r\n              @click=\"DeleteOrder(order.id)\"\r\n            >\r\n              取消訂單\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-2 mt-5\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport cartAPI from \"../apis/cart\";\r\nimport { mapState } from \"vuex\";\r\nimport { Toast } from \"../utils/helpers.js\";\r\nimport DotLoader from \"vue-spinner/src/DotLoader\";\r\nexport default {\r\n  components: { DotLoader },\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      color: \"#F5B7B1\",\r\n      size: \"200px\",\r\n      isLoading: true,\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchOrders();\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\", \"isAuthenticated\"]),\r\n  },\r\n  methods: {\r\n    async fetchOrders() {\r\n      try {\r\n        const { data, statusText } = await cartAPI.orders.getOrders(\r\n          this.currentUser.id\r\n        );\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        this.orders = data.orders;\r\n        this.isLoading = false;\r\n      } catch {\r\n        this.isLoading = false;\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"目前無法取得訂單內容,請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async DeleteOrder(id) {\r\n      try {\r\n        const { statusText } = await cartAPI.orders.cancelOrder(id);\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        for (let i = 0; i < this.orders.length; i++) {\r\n          if (this.orders[i].id == id) {\r\n            this.orders[i].payment_status = \"取消訂單\";\r\n          }\r\n        }\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"成功取消訂單\",\r\n        });\r\n      } catch {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"目前無法刪除\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.pay {\r\n  color: green;\r\n}\r\n.word {\r\n  color: #4d4d4d;\r\n}\r\n.btn-link {\r\n  color: brown;\r\n}\r\n.forMobile {\r\n  display: none;\r\n}\r\n@media screen and (max-width: 768px) {\r\n  .Menu {\r\n    display: none;\r\n  }\r\n  .forComputer {\r\n    display: none;\r\n  }\r\n  .forMobile {\r\n    display: inline-flex;\r\n  }\r\n  .col-2 {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=7c980fd2&scoped=true&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&id=7c980fd2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c980fd2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}