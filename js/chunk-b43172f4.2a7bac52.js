(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b43172f4"],{"10fa":function(t,e,r){},b8c4:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"inner row"},[r("div",{staticClass:"col-1"}),t._m(0),r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-1 mt-5"}),r("div",{staticClass:"col-3 mt-5"},[r("AdminMenu")],1),0==this.items.length?r("div",{staticClass:"col-7 row mt-5"},[r("h3",[t._v("目前沒有訂單!")])]):r("div",{staticClass:"col-7 row mt-5"},[r("div",[r("b-table",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],attrs:{items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,hover:t.hover,dark:t.dark,"sort-icon-left":"",responsive:"sm"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(刪除訂單)",fn:function(e){return[r("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(r){return t.DeleteOrder(e.item.id)}}},[t._v("刪除訂單")])]}}])})],1)]),r("div",{staticClass:"col-1 mt-5"})])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-10 mt-5"},[r("h1",[t._v("訂單列表")]),r("hr")])}],i=(r("4de4"),r("96cf"),r("1da1")),o=r("ddfd"),c=r("2fa3"),s=r("be6c"),u={components:{AdminMenu:o["a"]},data:function(){return{sortBy:"id",sortDesc:!1,fields:[{key:"id",sortable:!0},{key:"UserId",sortable:!0},{key:"payment_status",sortable:!0},{key:"amount",sortable:!0},{key:"刪除訂單",sortable:!1}],items:[],hover:!0,dark:!1,isLoading:!0}},created:function(){this.fetchGetOrder()},methods:{fetchGetOrder:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].getOrder();case 3:if(r=e.sent,n=r.data,a=r.statusText,"OK"===a){e.next=8;break}throw new Error(a);case 8:t.items=n.orders,t.isLoading=!1,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),c["a"].fire({icon:"error",title:"目前無法取得庫存資料，請稍後再試"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},DeleteOrder:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s["a"].deleteOrder(t);case 3:if(n=r.sent,a=n.data,"success"===a.status){r.next=7;break}throw new Error(status);case 7:for(i=0;i<e.items.length;i++)e.items[i].id==t&&(e.items=e.items.filter((function(e){return e.id!==t})));c["a"].fire({icon:"success",title:"成功刪除訂單!"}),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),c["a"].fire({icon:"error",title:"刪除訂單失敗，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()}}},d=u,m=r("2877"),f=Object(m["a"])(d,n,a,!1,null,null,null);e["default"]=f.exports},be6c:function(t,e,r){"use strict";var n=r("2fa3"),a=function(){return localStorage.getItem("token")};e["a"]={getCreateProduct:function(){return n["b"].get("/admin/CreateProduct",{headers:{Authorization:"Bearer ".concat(a())}})},getEditProduct:function(t){return n["b"].get("/admin/EditProduct/".concat(t),{headers:{Authorization:"Bearer ".concat(a())}})},getStore:function(){return n["b"].get("/admin/store",{headers:{Authorization:"Bearer ".concat(a())}})},getStoreByCategory:function(t){return n["b"].get("/admin/store/".concat(t),{headers:{Authorization:"Bearer ".concat(a())}})},getActivity:function(){return n["b"].get("/admin/activity",{headers:{Authorization:"Bearer ".concat(a())}})},getEditThisWeekActivity:function(t){return n["b"].get("/admin/EditThisWeekActivity/".concat(t),{headers:{Authorization:"Bearer ".concat(a())}})},getEditNewActivity:function(t){return n["b"].get("/admin/EditNewActivity/".concat(t),{headers:{Authorization:"Bearer ".concat(a())}})},getOrder:function(){return n["b"].get("/admin/orders",{headers:{Authorization:"Bearer ".concat(a())}})},getUser:function(){return n["b"].get("/admin/users",{headers:{Authorization:"Bearer ".concat(a())}})},createProduct:function(t){var e=t.formData;return n["b"].post("/admin/NewProduct",e,{headers:{Authorization:"Bearer ".concat(a())}})},editProduct:function(t){var e=t.formData,r=t.targetProductId;return n["b"].put("/admin/EditProduct/".concat(r),e,{headers:{Authorization:"Bearer ".concat(a())}})},editThisWeekActivity:function(t){var e=t.formData,r=t.targetThisWeekActivityId;return n["b"].put("/admin/EditThisWeekActivity/".concat(r),e,{headers:{Authorization:"Bearer ".concat(a())}})},editNewActivity:function(t){var e=t.formData,r=t.targetNewActivityId;return n["b"].put("/admin/EditNewActivity/".concat(r),e,{headers:{Authorization:"Bearer ".concat(a())}})},createActivity:function(t){var e=t.formData;return n["b"].post("/admin/NewActivity",e,{headers:{Authorization:"Bearer ".concat(a())}})},createFeedorCan:function(t){var e=t.formData;return n["b"].post("/admin/FeedorCan",e,{headers:{Authorization:"Bearer ".concat(a())}})},deleteOrder:function(t){return n["b"].delete("/admin/orders/".concat(t),{headers:{Authorization:"Bearer ".concat(a())}})},deleteUser:function(t){return n["b"].delete("/admin/users/".concat(t),{headers:{Authorization:"Bearer ".concat(a())}})}}},ddfd:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-list-group",[r("b-list-group-item",{attrs:{variant:"danger"}},[t._v("後台管理")]),t._l(t.AdminMenu,(function(e){return r("router-link",{key:"x"+e.id,attrs:{to:{name:""+e.router}}},[r("b-list-group-item",{staticClass:"word"},[t._v(t._s(e.name))])],1)}))],2)},a=[],i={AdminMenu:[{id:"1",name:"新增商品",router:"AdminCreateProduct"},{id:"2",name:"新增活動",router:"AdminCreateActivity"},{id:"6",name:"新增飼料、罐頭",router:"AdminCreateFeed"},{id:"3",name:"庫存、銷售、修改商品資訊",router:"AdminGetStore"},{id:"7",name:"活動修改",router:"AdminGetActivity"},{id:"4",name:"查看訂單",router:"AdminGetOrder"},{id:"5",name:"會員管理",router:"AdminGetUser"}]},o={data:function(){return{AdminMenu:[]}},created:function(){this.fetchMenu()},methods:{fetchMenu:function(){this.AdminMenu=i.AdminMenu}}},c=o,s=(r("e8cf"),r("2877")),u=Object(s["a"])(c,n,a,!1,null,"2201ebb1",null);e["a"]=u.exports},e8cf:function(t,e,r){"use strict";var n=r("10fa"),a=r.n(n);a.a}}]);
//# sourceMappingURL=chunk-b43172f4.2a7bac52.js.map